(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49dfb7bb"],{"0b33":function(t,e,s){"use strict";var i=s("a142"),n={data:function(){return{parent:null}},methods:{findParent:function(t){var e=this.$parent;while(e){if(e.$options.name===t){this.parent=e;break}e=e.$parent}}}},a=Object(i["g"])("tab"),c=a[0],o=a[1];e["a"]=c({mixins:[n],props:{title:String,disabled:Boolean},data:function(){return{inited:!1}},computed:{index:function(){return this.parent.tabs.indexOf(this)},selected:function(){return this.index===this.parent.curActive}},watch:{"parent.curActive":function(){this.inited=this.inited||this.selected},title:function(){this.parent.setLine()}},created:function(){this.findParent("van-tabs")},mounted:function(){var t=this.parent.tabs,e=this.parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this),this.slots("title")&&this.parent.renderTitle(this.$refs.title,this.index)},beforeDestroy:function(){this.parent.tabs.splice(this.index,1)},render:function(t){var e=this.slots;return t("div",{directives:[{name:"show",value:this.selected||this.parent.animated}],class:o("pane")},[this.inited?e():t(),e("title")&&t("div",{ref:"title"},[e("title")])])}})},1705:function(t,e,s){"use strict";var i=s("9d33"),n=s.n(i);n.a},"2aa2":function(t,e,s){"use strict";var i=s("84f26"),n=s.n(i);n.a},"2b0c":function(t,e,s){},3697:function(t,e,s){"use strict";e["a"]={props:{clz:{type:Object,required:!0}}}},"442d":function(t,e,s){"use strict";var i=s("87e8"),n=s.n(i);n.a},"558f":function(t,e,s){"use strict";s("3cd0")},"5e46":function(t,e,s){"use strict";var i=s("a142"),n=s("3875"),a=s("8624"),c=s("db78"),o=s("023d"),l=Object(i["g"])("tabs"),r=l[0],u=l[1],h=Object(i["g"])("tab")[1];e["a"]=r({mixins:[n["a"]],model:{prop:"active"},props:{color:String,sticky:Boolean,animated:Boolean,offsetTop:Number,swipeable:Boolean,background:String,titleActiveColor:String,titleInactiveColor:String,ellipsis:{type:Boolean,default:!0},lineWidth:{type:Number,default:null},lineHeight:{type:Number,default:null},active:{type:[Number,String],default:0},type:{type:String,default:"line"},duration:{type:Number,default:.3},swipeThreshold:{type:Number,default:4}},data:function(){return{tabs:[],position:"",curActive:null,lineStyle:{backgroundColor:this.color},events:{resize:!1,sticky:!1,swipeable:!1}}},computed:{scrollable:function(){return this.tabs.length>this.swipeThreshold||!this.ellipsis},wrapStyle:function(){switch(this.position){case"top":return{top:this.offsetTop+"px",position:"fixed"};case"bottom":return{top:"auto",bottom:0};default:return null}},navStyle:function(){return{borderColor:this.color,background:this.background}},trackStyle:function(){if(this.animated)return{left:-1*this.curActive*100+"%",transitionDuration:this.duration+"s"}}},watch:{active:function(t){t!==this.curActive&&this.correctActive(t)},color:function(){this.setLine()},tabs:function(){this.correctActive(this.curActive||this.active),this.scrollIntoView(),this.setLine()},curActive:function(){this.scrollIntoView(),this.setLine(),"top"!==this.position&&"bottom"!==this.position||Object(o["e"])(window,Object(o["a"])(this.$el))},sticky:function(){this.handlers(!0)},swipeable:function(){this.handlers(!0)}},mounted:function(){var t=this;this.$nextTick(function(){t.inited=!0,t.handlers(!0)})},activated:function(){var t=this;this.$nextTick(function(){t.handlers(!0),t.scrollIntoView(!0)})},deactivated:function(){this.handlers(!1)},beforeDestroy:function(){this.handlers(!1)},methods:{handlers:function(t){var e=this.events,s=this.sticky&&t,i=this.swipeable&&t;if(e.resize!==t&&(e.resize=t,(t?c["b"]:c["a"])(window,"resize",this.setLine,!0)),e.sticky!==s&&(e.sticky=s,this.scrollEl=this.scrollEl||Object(o["b"])(this.$el),(s?c["b"]:c["a"])(this.scrollEl,"scroll",this.onScroll,!0),this.onScroll()),e.swipeable!==i){e.swipeable=i;var n=this.$refs.content,a=i?c["b"]:c["a"];a(n,"touchstart",this.touchStart),a(n,"touchmove",this.touchMove),a(n,"touchend",this.onTouchEnd),a(n,"touchcancel",this.onTouchEnd)}},onTouchEnd:function(){var t=this.direction,e=this.deltaX,s=this.curActive,i=50;"horizontal"===t&&this.offsetX>=i&&(e>0&&0!==s?this.setCurActive(s-1):e<0&&s!==this.tabs.length-1&&this.setCurActive(s+1))},onScroll:function(){var t=Object(o["c"])(window)+this.offsetTop,e=Object(o["a"])(this.$el),s=e+this.$el.offsetHeight-this.$refs.wrap.offsetHeight;this.position=t>s?"bottom":t>e?"top":"";var i={scrollTop:t,isFixed:"top"===this.position};this.$emit("scroll",i)},setLine:function(){var t=this,e=this.inited;this.$nextTick(function(){var s=t.$refs.tabs;if(s&&s[t.curActive]&&"line"===t.type){var n=s[t.curActive],a=t.lineWidth,c=t.lineHeight,o=Object(i["c"])(a)?a:n.offsetWidth/2,l=n.offsetLeft+(n.offsetWidth-o)/2,r={width:o+"px",backgroundColor:t.color,transform:"translateX("+l+"px)"};if(e&&(r.transitionDuration=t.duration+"s"),Object(i["c"])(c)){var u=c+"px";r.height=u,r.borderRadius=u}t.lineStyle=r}})},correctActive:function(t){t=+t;var e=this.tabs.some(function(e){return e.index===t}),s=(this.tabs[0]||{}).index||0;this.setCurActive(e?t:s)},setCurActive:function(t){t=this.findAvailableTab(t,t<this.curActive),Object(i["c"])(t)&&t!==this.curActive&&(this.$emit("input",t),null!==this.curActive&&this.$emit("change",t,this.tabs[t].title),this.curActive=t)},findAvailableTab:function(t,e){var s=e?-1:1,i=t;while(i>=0&&i<this.tabs.length){if(!this.tabs[i].disabled)return i;i+=s}},onClick:function(t){var e=this.tabs[t],s=e.title,i=e.disabled;i?this.$emit("disabled",t,s):(this.setCurActive(t),this.$emit("click",t,s))},scrollIntoView:function(t){var e=this.$refs.tabs;if(this.scrollable&&e&&e[this.curActive]){var s=this.$refs.nav,i=s.scrollLeft,n=s.offsetWidth,a=e[this.curActive],c=a.offsetLeft,o=a.offsetWidth;this.scrollTo(s,i,c-(n-o)/2,t)}},scrollTo:function(t,e,s,i){if(i)t.scrollLeft+=s-e;else{var n=0,c=Math.round(1e3*this.duration/16),o=function i(){t.scrollLeft+=(s-e)/c,++n<c&&Object(a["a"])(i)};o()}},renderTitle:function(t,e){var s=this;this.$nextTick(function(){var i=s.$refs.title[e];i.parentNode.replaceChild(t,i)})},getTabStyle:function(t,e){var s={},i=this.color,n=e===this.curActive,a="card"===this.type;i&&(t.disabled||!a||n||(s.color=i),!t.disabled&&a&&n&&(s.backgroundColor=i),a&&(s.borderColor=i));var c=n?this.titleActiveColor:this.titleInactiveColor;return c&&(s.color=c),this.scrollable&&this.ellipsis&&(s.flexBasis=88/this.swipeThreshold+"%"),s}},render:function(t){var e=this,s=this.type,i=this.ellipsis,n=this.animated,a=this.scrollable,c=this.tabs.map(function(s,n){return t("div",{ref:"tabs",refInFor:!0,class:h({active:n===e.curActive,disabled:s.disabled,complete:!i}),style:e.getTabStyle(s,n),on:{click:function(){e.onClick(n)}}},[t("span",{ref:"title",refInFor:!0,class:{"van-ellipsis":i}},[s.title])])});return t("div",{class:u([s])},[t("div",{ref:"wrap",style:this.wrapStyle,class:[u("wrap",{scrollable:a}),{"van-hairline--top-bottom":"line"===s}]},[t("div",{ref:"nav",class:u("nav",[s]),style:this.navStyle},["line"===s&&t("div",{class:u("line"),style:this.lineStyle}),c])]),t("div",{ref:"content",class:u("content",{animated:n})},[n?t("div",{class:u("track"),style:this.trackStyle},[this.slots()]):this.slots()])])}})},"6a42":function(t,e,s){"use strict";var i=s("8a50"),n=s.n(i);n.a},"6e04":function(t,e,s){},"77c0":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.avatar?s("div",{staticClass:"avatar-content",style:{width:t.size,height:t.size}},[s("img",{attrs:{src:t.avatar}})]):t._e()},n=[],a={props:{size:{type:String,default:"36px"},avatar:{type:String,default:"https://keyushijian-1257034971.cos.ap-shanghai.myqcloud.com/ft/491/20190115/u%3D141991798%2C3480003694%26fm%3D26%26gp%3D0.jpg"}}},c=a,o=(s("6a42"),s("2877")),l=Object(o["a"])(c,i,n,!1,null,"a075bdba",null);e["a"]=l.exports},"7e6f":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.clz?s("div",{staticClass:"detail ignore"},[s("div",{staticClass:"detail-content"},[t._l(t.components,function(e,i){return[s(t.getComponent(e),{key:i,tag:"component",staticClass:"lm-1px-b",attrs:{clz:t.clz}})]})],2)]):t._e()},n=[],a=s("ff1e"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer ignore"},[s("div",{staticClass:"footer-bt"},[s("van-button",{attrs:{type:"primary",size:"normal"},on:{click:t.sign}},[t._v("报名")])],1)])},o=[],l=s("3697"),r=s("ed08"),u={mixins:[l["a"]],methods:{sign:function(){var t=this;this.userInfo?this.signClass():this.$dialog.confirm({title:"登录提示",message:"报名课堂，需要登录龙门课堂？",messageAlign:"left"}).then(function(){t.login()}).catch(function(){})},signClass:function(){var t=this;this.$store.dispatch("topClassSignIn",{ClassID:this.clz.ClassID,RefererCode:this.$route.query.RefererCode||this.clz.RefererCode||""}).then(function(e){t.$toast(e),t.showConfirm()}).catch(function(){t.showConfirm()})},showConfirm:function(){this.$dialog.confirm({title:"报名成功",message:"是否马上下载课鱼时间APP去上课？",messageAlign:"left"}).then(function(){window.open(r["a"])}).catch(function(){})}}},h=u,f=(s("2aa2"),s("2877")),d=Object(f["a"])(h,c,o,!1,null,"45d14b86",null),v=d.exports,p=s("9dc0"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clz-tab"},[s("tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[t._l(t.tabs,function(e,i){return[s("tab",{key:i,attrs:{title:e.name}},[s(t.currentTabComponent(e.component),{tag:"component",attrs:{clz:t.clz}})],1)]})],2)],1)},m=[],C=(s("8990"),s("5e46")),g=(s("558f"),s("0b33")),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("\n  comment\n")])},z=[],_={},x=Object(f["a"])(_,y,z,!1,null,null,null),w=x.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clz"},[s("div",{staticClass:"clz-detail"},[s("div",{staticClass:"clz-detail-msg msg-font"},[t._v("课程简介")]),s("div",{staticClass:"clz-detail-desc content-font"},[t._v("\n      课堂描述"+t._s(t.clz.Describe)+"\n    ")]),s("div",{staticClass:"clz-detail-msg msg-font"},[t._v("报班须知")]),s("ul",{staticClass:"clz-detail-rules"},[s("li",{staticClass:"clz-detail-rules-title"},[t._v("授课须知\n        "),t.rules.TeachingRule?s("div",{staticClass:"clz-detail-rules-content content-font",domProps:{innerHTML:t._s(t.trim(t.rules.TeachingRule))}}):t._e()]),s("li",{staticClass:"clz-detail-rules-title"},[t._v("退班规则\n        "),t.rules.QuitRule?s("div",{staticClass:"clz-detail-rules-content content-font",domProps:{innerHTML:t._s(t.trim(t.rules.QuitRule))}}):t._e()]),s("li",{staticClass:"clz-detail-rules-title"},[t._v("插班规则\n        "),t.rules.TransferRule?s("div",{staticClass:"clz-detail-rules-content content-font",domProps:{innerHTML:t._s(t.trim(t.rules.TransferRule))}}):t._e()])])])])},$=[],A={mixins:[l["a"]],data:function(){return{rules:[]}},mounted:function(){this.getSysRules()},methods:{getSysRules:function(){var t=this;this.$store.dispatch("getSysRules").then(function(e){t.rules=e}).catch(function(){})},trim:function(t){return Object(r["i"])(t)}}},k=A,S=(s("d010"),Object(f["a"])(k,T,$,!1,null,"96eb1cfa",null)),j=S.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clz-lesson"},[s("div",{staticClass:"clz-lesson-msg secondary-font"},[t._v("课时简介")]),t._l(t.lessons,function(e,i){return[s("div",{key:i,staticClass:"clz-lesson-box lm-1px-b"},[s("div",{staticClass:"clz-lesson-box-title primary-font"},[t._v("\n        "+t._s("第 "+(2*(i+1)-1)+" - "+2*(i+1)+" 课时： "+e.LessonTitle)+"\n      ")]),s("div",{staticClass:"clz-lesson-box-desc content-font"},[t._v("\n        课时描述 "+t._s(e.LessonDescription)+"\n      ")]),s("div",{staticClass:"clz-lesson-box-date content-font"},[t._v("\n        授课时间："+t._s(t._f("formatMD")(e.BeginDate))+" —— "+t._s(t._f("formatHS")(e.EndDate))+"\n      ")]),s("div",{staticClass:"clz-lesson-box-ft"},[s("span",{staticClass:"clz-lesson-box-ft-status"},[t._v("\n          "+t._s(e.StatusName)+"\n        ")])])])]})],2)},L=[],D={mixins:[l["a"]],data:function(){return{lessons:[],footer:{}}},mounted:function(){this.getClassLesson()},methods:{getClassLesson:function(){var t=this;this.$store.dispatch("getClassLesson",this.clz.ClassID).then(function(e){t.lessons=e}).catch(function(){})}}},P=D,I=(s("d5e5"),Object(f["a"])(P,O,L,!1,null,"0f26dabd",null)),E=I.exports,N={mixins:[l["a"]],components:{Tab:g["a"],Tabs:C["a"],TabComment:w,TabDetail:j,TabLesson:E},data:function(){return{active:2,tabs:[{component:"Detail",name:"详情"},{component:"Lesson",name:"大纲"}]}},methods:{currentTabComponent:function(t){return"tab-"+t.toLowerCase()}}},R=N,H=(s("c042"),Object(f["a"])(R,b,m,!1,null,"6f953ddc",null)),M=H.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img-content"},[s("video-player",{directives:[{name:"show",rawName:"v-show",value:t.canPlay,expression:"canPlay"}],ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{options:t.playerOptions,playsinline:!0}}),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.canPlay,expression:"!canPlay"}],staticClass:"img-content-img",staticStyle:{"object-fit":"cover"},attrs:{src:t.clz.CoverPath,height:"150",width:"100%"}})],1)},F=[],q=s("d6d3"),W={components:{videoPlayer:q["videoPlayer"]},mixins:[l["a"]],data:function(){return{canPlay:!0}},computed:{player:function(){return this.$refs.videoPlayer&&this.$refs.videoPlayer.player},playerOptions:function(){return{muted:!1,fluid:!0,loop:!1,preload:"auto",language:"zh-CN",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:this.clz.ClassicCourseUrl}],aspectRatio:"16:9",poster:this.clz.CoverPath,height:150,notSupportedMessage:"此视频暂无法播放，请稍后再试"}}},mounted:function(){var t=this;this.player.on("error",function(){t.player.off("error"),t.canPlay=!1})}},V=W,X=Object(f["a"])(V,B,F,!1,null,"51488c3a",null),J=X.exports,Q={components:{ClzContent:a["a"],ClzFooter:v,ClzHeader:p["a"],ClzTab:M,ClzVideoCover:J},methods:{getTopTeacherClassList:function(){var t=this;this.$store.dispatch("getTopTeacherClassList",{ClassID:this.$route.query.classId}).then(function(e){var s=e.data;t.clz=s[0]}).catch(function(){})}}},U={name:"ClassroomDetail",mixins:[Q],data:function(){return{clz:{},components:["video-cover","header","content","tab","footer"]}},mounted:function(){this.clz=this.$route.params.clz;var t=this.$route.query.classId;!this.clz&&t&&this.getTopTeacherClassList()},methods:{getComponent:function(t){return"clz-".concat(t)}}},Y=U,G=(s("1705"),Object(f["a"])(Y,i,n,!1,null,"61830bfb",null));e["default"]=G.exports},"82ec":function(t,e,s){},"84f26":function(t,e,s){},8624:function(t,e,s){"use strict";(function(t){s.d(e,"a",function(){return l});var i=s("a142"),n=Date.now();function a(t){var e=Date.now(),s=Math.max(0,16-(e-n)),i=setTimeout(t,s);return n=e+s,i}var c=i["e"]?t:window,o=c.requestAnimationFrame||c.webkitRequestAnimationFrame||a;c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.clearTimeout;function l(t){return o.call(c,t)}}).call(this,s("c8ba"))},"87e8":function(t,e,s){},8990:function(t,e,s){"use strict";s("3cd0"),s("2b0c")},"8a50":function(t,e,s){},"9d33":function(t,e,s){},"9d60":function(t,e,s){},"9dc0":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clz"},[s("div",{staticClass:"clz-box"},[s("div",{staticClass:"clz-box-hd index-line"},[s("h3",{staticClass:"title-font"},[t._v(t._s(t.clz.Name?t.clz.Name:t.clz.ClassName))]),s("span",{staticClass:"oriange-font"},[t._v(t._s(t.clz.Stage+"-"+t.clz.CourseInfoName))])]),s("div",{staticClass:"clz-box-bd"},[s("span",{staticClass:"content-font"},[t._v("开课时间："+t._s(t._f("formatYMD")(t.clz.BeginDate)))])])])])},n=[],a=s("3697"),c={mixins:[a["a"]]},o=c,l=(s("442d"),s("2877")),r=Object(l["a"])(o,i,n,!1,null,"1c0b27f6",null);e["a"]=r.exports},c042:function(t,e,s){"use strict";var i=s("82ec"),n=s.n(i);n.a},c55a:function(t,e,s){},d010:function(t,e,s){"use strict";var i=s("c55a"),n=s.n(i);n.a},d5e5:function(t,e,s){"use strict";var i=s("9d60"),n=s.n(i);n.a},ea45:function(t,e,s){"use strict";var i=s("6e04"),n=s.n(i);n.a},ff1e:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clz"},[s("div",{staticClass:"clz-box index-line"},[s("avatar",{attrs:{avatar:t.clz.TeacherHeadImage}}),s("div",{staticClass:"clz-box-left index-main"},[s("span",{staticClass:"content-font"},[t._v("主讲")]),s("span",{staticClass:"content-font clz-box-left-teacher"},[t._v(t._s(t.clz.TeacherName))])]),s("div",{staticClass:"clz-box-right index-line oriange-font"},[s("h3",{staticClass:"clz-box-right-price"},[t._v("\n        ￥"+t._s(t.clz.LessonPrice/2)+"/课时\n      ")]),s("span",{staticClass:"clz-box-right-lesson"},[t._v("\n        "+t._s("共"+2*t.clz.LessonNumber+"课时")+"\n      ")])])],1)])},n=[],a=s("3697"),c=s("77c0"),o={mixins:[a["a"]],components:{Avatar:c["a"]}},l=o,r=(s("ea45"),s("2877")),u=Object(r["a"])(l,i,n,!1,null,"15903df5",null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-49dfb7bb.7678a7b9.js.map